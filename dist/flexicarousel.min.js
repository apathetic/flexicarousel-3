/*! Flexicarousel - v0.1.0 - 2013-05-03
* https://github.com/apathetic/flexicarousel
* Copyright (c) 2013 Wes Hatch; Licensed MIT */
(function(a){var b="trans",c="out",d="active",e="before",f="after",g=400,h="li",i=0,j,k,l=function(){var a,b=document.createElement("fakeelement"),c={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(a in c)if(b.style[a]!==undefined)return k=!0,c[a]}(),m={init:function(b){this.options=a.extend({},a.fn.carousel.options,b),j=a(this).find(h);if(!j.length){console.log("Carousel: no slides found");return}j.eq(0).addClass(d);var c=a(this).attr("data-transition");return c||(k=!1),a(this).carousel("addNav"),a(this).addClass("carousel "+(c?"carousel-"+c:"")),a(this).trigger("init.carousel",this),a(this)},next:function(){a(this).carousel("go",1)},prev:function(){a(this).carousel("go",-1)},go:function(c){if(a(this).find("."+b).length)return;var g=a(this).find("."+d),h=j.eq(g.index()+c);h.length||(h=j.eq(0)),h.addClass(c<0?e:f),h[0].offsetHeight,k?a(this).carousel("transitionStart",g,h):a(this).carousel("transitionEnd",g,h),a(this).trigger("go.carousel",h)},update:function(){return a(this).trigger("update.carousel")},transitionStart:function(d,e){var f=a(this);e.one(l,function(){f.carousel("transitionEnd",d,e)}),d.addClass(c),e.addClass(b)},transitionEnd:function(a,g){j.removeClass([e,f,b].join(" ")),g.addClass(d),a.removeClass([d,c].join(" ")),a.removeClass(c)},addNav:function(){var b=a(this),c,d,e;return this.options.nav||a(this).find("nav").length?(c=this.options.nav||a(this).find("nav"),e=c.find(".next"),d=c.find(".prev")):(c=a("<nav></nav>"),d=a('<a href="#prev" class="prev" aria-hidden="true">Prev</a>'),e=a('<a href="#next" class="next" aria-hidden="true">Next</a>'),a(this).append(c.append(d).append(e))),d.bind("click",function(a){a.preventDefault(),b.carousel("prev")}),e.bind("click",function(a){a.preventDefault(),b.carousel("next")}),a(this)},destroy:function(){}};a.fn.carousel=function(b){var c=arguments,d=this;return this.each(function(){if(b in a.fn.carousel.prototype)return console.log(b,c),a.fn.carousel.prototype[b].apply(this,Array.prototype.slice.call(c,1));if(a(this).data("init"))return a.error('Method "'+b+'" does not exist on ye olde carousel'),a(this);if(typeof b=="object"||!b)return a(this).data("init",!0),a.fn.carousel.prototype.init.apply(this,c)})},a.fn.carousel.options={transClass:"trans",outClass:"out",activeClass:"active",beforeClass:"before",afterClass:"after",speed:400,slide:"li",nav:!1},a.extend(a.fn.carousel.prototype,m)})(jQuery),function(a){var b,c,d={paginate:function(d){var e=a(d).index()+1;c.html(e+" / "+b)},jump:function(a){}};a.extend(a.fn.carousel.prototype,d),a(function(){a("body").on("init.carousel",function(d,e){console.log("adding pagination listener to",e),b=a(e.options.slide).length,c=a(e).find(".paging"),c.length||(c=a('<span class="paging"></span>').prependTo(a(e).find("nav"))),c.html("1 / "+b),a(e).on("go.carousel",function(b){a(this).carousel("paginate",arguments[1])})})})}(jQuery),function(a){var b={addKeys:function(){var b=a(this);a(document).on("keydown",function(a){if(a.keyCode===37||a.keyCode===38||a.keyCode===190)a.preventDefault(),b.carousel("prev");if(a.keyCode===39||a.keyCode===40||a.keyCode===188)a.preventDefault(),b.carousel("next")})}};a.extend(a.fn.carousel.prototype,b),a(function(){a("body").on("init.carousel",function(b,c){a(c).carousel("addKeys")})})}(jQuery);